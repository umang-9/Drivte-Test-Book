<div class="container mb-3">
    <form class="row g-3 needs-validation" action="/g" method="POST" novalidate>
        <h2>Personal Information</h2>
        <div class="col-md-6">
            <label for="firstName " class="form-label">First name</label>
            <input class="form-control" name="firstName " id="firstName " value="<%=user.firstName %>" disabled />
        </div>
        <div class="col-md-6">
            <label for="lastName" class="form-label">Last name</label>
            <input class="form-control" id="lastName" name="lastName" value="<%= user.lastName %>" disabled />
        </div>

        <div class="col-md-6">
            <label for="licenseNumber" class="form-label">License Number</label>
            <input class="form-control" id="licenseNumber" name="licenseNumber" value="<%= user.licenseNumber %>" disabled />
        </div>
        <div class="col-md-3">
            <label for="dob" class="form-label">Date of Birth</label>
            <input class="form-select" name="dob" id="dob" value="<%= user.dob.toISOString().split('T')[0] %>" disabled />
        </div>
        <div class="mt-3"></div>
        <hr />
        <h2>Car Information</h2>

        <div class="col-md-6">
            <label for="make" class="form-label">Make</label>
            <input type="text" class="form-control" id="make" name="make" value="<%= user.carDetails.make %>" placeholder="Car Brand" required />
            <div class="invalid-feedback">Please provide a car brand.</div>
        </div>
        <div class="col-md-6">
            <label for="model" class="form-label">Model</label>
            <input type="text" class="form-control" id="model" name="model" value="<%= user.carDetails.model %>" placeholder="Car Model" required />
            <div class="invalid-feedback">Please provide a car model.</div>
        </div>

        <div class="col-md-6">
            <label for="year" class="form-label">Year</label>
            <input type="number" class="form-control" id="year" name="year" value="<%= user.carDetails.year %>" placeholder="Car Year" maxlength="4" required />
            <div class="invalid-feedback">Please provide a car year.</div>
        </div>
        <div class="col-md-6">
            <label for="platNumber" class="form-label">Plat Number</label>
            <input type="text" class="form-control" id="platNumber" name="platNumber" value="<%= user.carDetails.platNumber %>" placeholder="Car Plat Number" required />
            <div class="invalid-feedback">Please provide a car plat number.</div>
        </div>

        <div class="mt-3"></div>
        <hr />
        <div class="col-12">
            <button class="btn btn-primary" type="submit">Update Details</button>
        </div>
    </form>
</div>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
        "use strict";

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll(".needs-validation");

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms).forEach(function(form) {
            form.addEventListener(
                "submit",
                function(event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add("was-validated");
                },
                false
            );
        });
    })();
</script>